***

title: "Azure AD (Entrée)"
description: "Apprenez à configurer Azure AD comme fournisseur d'identité pour NocoDB."
balises : ['SSO', 'Azure AD', 'OIDC']
mots-clés : ['SSO', 'Azure AD', 'OIDC', 'Authentification', 'Identity Provider']
---------------------------------------------------------------------------------

:::Info
Veuillez atteindre [**en vente**](https://calendly.com/nocodb) pour l'accès SSO.
:::

Cet article présente les étapes de configuration d'Azure AD en tant que fournisseur de services d'identité pour NocoDB.

### NocoDB, récupérer `Redirect URL`

1. Aller à `Account Settings`
2. Sélectionner `Authentication (SSO)`
3. Cliquer sur `New Provider` button
4. Sur le modal Popup, spécifiez un `Display name` pour le fournisseur ; notez que ce nom sera utilisé pour afficher le fournisseur sur la page de connexion
5. Récupérer `Redirect URL`; ces informations devront être configurées ultérieurement avec le fournisseur d'identité

![OIDC SSO Configuration](/img/v2/account-settings/SSO-1.png)![OIDC SSO Configuration](/img/v2/account-settings/OIDC-2.png)![OIDC SSO Configuration](/img/v2/account-settings/OIDC-3.png)

### Azure AD, configurer NocoDB en tant qu'application

1. Connectez-vous à votre [Compte Azure](https://portal.azure.com/#allservices) et accédez à `Azure Active Directory` sous `Azure Services`.
2. Accéder `Manage Tenants` dans la barre de navigation, sélectionnez votre répertoire et cliquez sur `Switch`.
3. Sur la page d'accueil de votre annuaire, cliquez sur `+ Add` > `App Registration` depuis la barre de navigation.
4. Sur la page `Register an application`,
   * Indiquez le nom de votre application.
   * Ensemble `Accounts in this organizational directory only` comme le `Supported account types`.
   * Choisir `Web` comme type d'application
   * Ajouter le `Redirect URL` sous `Redirect URIs`.
   * `Register`
5. Sur la page d'accueil de votre application,
   * Copiez le `Application (client) ID`
   * Cliquez sur `Add a certificate or secret` sous `Client credentials` section
   * Sur `Certificates & secrets` page, allez à `Client secrets` section
   * Cliquez sur `New client secret`
   * Sur `Add a client secret` page,
     * Ajouter une description pour le secret
     * Définir l'expiration selon vos besoins
     * `Add`
   * Copiez le `Value` du secret nouvellement créé
6. Sur la page d'accueil de votre application,
   * Aller à `Endpoints` languette
   * Ouvrir `OpenID Connect metadata document` URL et copie `authorization_endpoint`, `token_endpoint`, `userinfo_endpoint` & `jwks_uri` à partir de la réponse JSON
7. Configuration des étendues
   * Aller à `API permissions` languette
   * Cliquez sur `Add a permission`
   * Sur `Request API permissions` page,
     * Sélectionner `Microsoft Graph` depuis `Microsoft APIs`
     * Sélectionner `Delegated permissions`
     * Sélectionner `openid` `profile` `email` `offline_access` depuis `Select permissions` dérouler
     * Depuis `Users` liste déroulante, sélectionnez `User.Read`
     * `Add permissions`
   * Cliquez sur `Grant admin consent for this directory` du `API permissions` page

### NocoDB, configurer Azure AD en tant que fournisseur d'identité

Sur NocoDB, ouvrez `Account Settings` > `Authentication` > `OIDC`. Dans le modal « Enregistrer le fournisseur d'identité OIDC », insérez les informations suivantes :
- Insérer `Application (client) ID` récupéré à l'étape (7) ci-dessus comme `Client ID` - Insérer `Value` du secret nouvellement créé récupéré à l'étape (7) ci-dessus comme `Client Secret` - Insérer `authorization_endpoint` récupéré à l'étape (8) ci-dessus comme `Authorization URL` - Insérer `token_endpoint` récupéré à l'étape (8) ci-dessus comme `Token URL` - Insérer `userinfo_endpoint` récupéré à l'étape (8) ci-dessus comme `Userinfo URL` - Insérer `jwks_uri` récupéré à l'étape (8) ci-dessus comme `JWK Set URL` - Ensemble `Scope` comme `openid` `profile` `email` `offline_access`

Pour la connexion, l'utilisateur devrait maintenant pouvoir voir`Sign in with <SSO>`option.

![SAML SSO Configuration](/img/v2/account-settings/SSO-SignIn.png)

:::note
Postez la déconnexion, actualisez la page (pour la première fois) si vous ne voyez pas`Sign in with <SSO>`option
:::

Pour plus d’informations sur les étendues de l’API Azure AD, consultez[ici](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent#offline_access)
